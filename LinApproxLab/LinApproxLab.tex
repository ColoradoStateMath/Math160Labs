\documentclass[handout,nooutcomes]{ximera}
%handout
%wordchoicegiven
%space
%nooutcomes
\title{Math 160 Lab 2}
\author{Ben Sencindiver}

\input{preamble.tex}

\outcome{Define linear approximation as an application of the tangent to a curve.}
\outcome{Find the linear approximation to a function at a point and use it to approximate the function value.}
\outcome{Identify when a linear approximation can be used.}
\outcome{Label a graph with the appropriate quantities used in linear approximation.}
\outcome{Find the error of a linear approximation.}

\begin{document}

\section{Math 160 Lab 2 \\ Linear Approximation}

\begin{abstract}
We use a method called ``linear approximation'' to estimate the value
of (complicated) functions at a given point.
\end{abstract}

\maketitle


Suppose you want to approximate the function $f(x) = (x-2)^2  + 4$ at $x=3$.

Given a line with slope $m$ through the point $(a, b)$, what is the point slope form of the line?
\[
y = \answer[given]{m(x - a) + b}
\]

What is the slope of the line tangent to $f(x)$ at $x=3$?
\[
\answer{2}
\]

What point should an approximation of $f(x)$ at $x=3$ go through?
\[
(\answer{3},\answer{5})
\]


\begin{problem}
What is the equation of the line tangent to $f(x)$ at $x-2$? $(y=mx+b)$
\[
y = \answer[given]{2x-1}
\]


\begin{feedback}
Here's some feedback
\[
\graph{f(x) = (x-2)^2+4, y = 2(x-3) + 5}
\]
\end{feedback}
\end{problem}




%\section{Linear approximation}

Given a function, a \textit{linear approximation} is a fancy phrase
for something you already know:
\begin{quote}
  \textbf{The derivative is the slope of the tangent line.}
\end{quote}
%Except in this section, the emphasis is on the \textbf{line}.


\begin{definition}\index{linear approximation}
If $f$ is a differentiable function at $x=a$, then a \textbf{linear
  approximation} for $f$ at $x=a$ is given by
\[
\l(x) = f'(a)(x-a) +f(a).
\]
\end{definition}


Note that $\l(x)$ is just the line tangent to $f(x)$ at $x=a$.

\begin{example}
Below is the graph of $f(x) = 1/8x^3 + (3/8)x^2 -3/4 - 2$ and the line tangent to $f(x)$ at $x=a$. Feel free to explore how the tangent line changes as $a$ varies by using the slider.
\[
\graph[panel]{a=1, f(x) = 1/8x^3 + (3/8)x^2 -3/4 - 2, t(x) = f'(a)(x-a)+ f(a)}
\]
\end{example}

A linear approximation of $f$ is a ``good'' approximation as long as
$x$ is ``not too far'' from $a.$
%As we see from Figure~\ref{figure:informal-tangent}, 
If one ``zooms in'' on $f$ sufficiently, then $f$ and the linear
approximation are nearly indistinguishable. As a first example, we
will see how linear approximations allow us to make approximate
``difficult'' computations.



%% It maybe useful to compute an approximation using the cube root of 27 instead. Then students can see the difference between their approximations and which is better.
\begin{example}
Use a linear approximation of $f(x) =\sqrt[3]{x}$ at $x=64$ to
approximate $\sqrt[3]{50}$.
\begin{explanation}
To start, write
\[
\ddx f(x) = \ddx x^{1/3} = \frac{1}{\answer[given]{3x^{2/3}}}.
\]
So our linear approximation is
\begin{align*}
\l(x) &= \frac{1}{3\cdot 64^{2/3}} (x-64) + \answer[given]{4} \\
&= \frac{1}{\answer[given]{48}} (x-64) + 4\\
&= \answer[given]{1/48}x + \answer[given]{8/3}.
\end{align*}
\begin{image}
%\begin{marginfigure}
\begin{tikzpicture}
	\begin{axis}[
            xmin=1,xmax=100,ymin=0,ymax=5,
            axis lines=center,
            xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
          ]        
          \addplot [very thick, penColor, samples=150,smooth,domain=(0:100)] {x^(1/3))};
          \addplot [very thick, penColor2, domain=(0:100)] {x/48+8/3};
          \addplot [textColor,dashed] plot coordinates {(64,0) (64,4)};
          \addplot [textColor,dashed] plot coordinates {(0,4) (64,4)};
          \node at (axis cs:20,2.3) [penColor] {$f$};
          \node at (axis cs:20,3.3) [penColor2] {$\l$};
          \addplot[color=penColor3,fill=penColor3,only marks,mark=*] coordinates{(64,4)};  %% closed hole            
        \end{axis}
\end{tikzpicture}
%\caption{A linear approximation of $f(x) = \sqrt[3]{x}$ at $x=64$.}
%\label{figure:la sqrt3x}
%\end{marginfigure}
\end{image}

Now let's use our approximation and true value to find our approximation's error.

Use the Desmos widget below to determine the error of your approximation for $\sqrt[3]{50}$, noting that $\sqrt[3]{50} = f(50)$.

\[
\graph[panel]{f(x) = x^{1/3}, l(x) = (1/48) x + (8/3)}
\]


The approximation is \wordChoice{\choice[correct]{above}\choice{below}} the true 
answer by $\answer[tolerance=0.000001]{0.024302}$ units.

%Now we evaluate $\l(50) \approx 3.71$ and compare it to
%$\sqrt[3]{50}\approx 3.68$.  From this we see that the linear
%approximation, while perhaps inexact, is computationally \textbf{easier}
%than computing the cube root.
\end{explanation}
\end{example}


With modern calculators and computing software it may not appear
necessary to use linear approximations. In fact they are quite
useful. In cases requiring an explicit numerical approximation, they
allow us to get a quick rough estimate which can be used as a
``reality check'' on a more complex calculation. In some complex
calculations involving functions, the linear approximation makes an
otherwise intractable calculation possible, without serious loss of
accuracy.




%% Approximation using cube root of 27 instead.
\begin{example}
Now use a linear approximation of $f(x) =\sqrt[3]{x}$ at ${\bf x=27}$ to
approximate $\sqrt[3]{50}$.
\begin{explanation}
To start, write
\[
\ddx f(x) = \ddx x^{1/3} = \frac{1}{\answer[given]{3x^{2/3}}}.
\]
By using our formula for linear approximations, our linear 
approximation for $f(x)=\sqrt[3]{x}$ at $x=27$ is
\begin{align*}
m(x) &= \answer[given]{1/27}x + \answer[given]{2}.
\end{align*}



%\begin{align*}
%m(x) &= \frac{1}{3\cdot 27^{2/3}} (x-27) + \answer[given]{3} \\
%&= \frac{1}{\answer[given]{27}} (x-27) + 3\\
%&= \answer[given]{1/27}x + \answer[given]{2}.
%\end{align*}
\begin{image}
%\begin{marginfigure}
\begin{tikzpicture}
	\begin{axis}[
            xmin=1,xmax=100,ymin=0,ymax=5,
            axis lines=center,
            xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
          ]        
          \addplot [very thick, penColor, samples=150,smooth,domain=(0:100)] {x^(1/3))};
          \addplot [very thick, penColor2, domain=(0:100)] {x/27+2};
          \addplot [textColor,dashed] plot coordinates {(27,0) (27,3)};
          \addplot [textColor,dashed] plot coordinates {(0,3) (27,3)};
          \node at (axis cs:50,3.3) [penColor] {$f$};
          \node at (axis cs:50,4.3) [penColor2] {$m$};
          \addplot[color=penColor3,fill=penColor3,only marks,mark=*] coordinates{(27,3)};  %% closed hole            
        \end{axis}
\end{tikzpicture}
%\caption{A linear approximation of $f(x) = \sqrt[3]{x}$ at $x=64$.}
%\label{figure:la sqrt3x}
%\end{marginfigure}
\end{image}

Now let's use our approximation and true value to find our approximation's error.

Use the Desmos widget below to determine the error of your approximation for $\sqrt[3]{50}$, noting that $\sqrt[3]{50} = f(50)$.

\[
\graph[panel]{f(x) = x^{1/3}, m(x) = (1/27) x + 2}
\]


The approximation is \wordChoice{\choice[correct]{above}\choice{below}} the true 
answer by $\answer[tolerance=0.000001]{0.167820}$ units.

\end{explanation}
\end{example}

Notice that we approximated $\sqrt[3]{50}$ using two different linear approximations of $\sqrt[3]{x}$ and we got two different approximations of $\sqrt[3]{50}$.


%%% Comparison of approximations
\begin{question}
Compare your linear approximations when using $x=64$ and $x=27$. Which linear approximation of $\sqrt[3]{x}$ gives a better approximation of $\sqrt[3]{50}$?

\begin{multipleChoice}
   \choice{The approximation using $x=27$, because $27$ is closer to $50$ than $64$.}
   \choice{The approximation using $x=27$, because $64$ is closer to $50$ than $27$.}
   \choice[correct]{The approximation using $x=64$, because $64$ is closer to $50$ than $27$.}
   \choice[correct]{The approximation using $x=64$, because $27$ is closer to $50$ than $64$.}
\end{multipleChoice}

\begin{image}
%\begin{marginfigure}
\begin{tikzpicture}
	\begin{axis}[
            xmin=20,xmax=70,ymin=2.5,ymax=4.5,
            axis lines=center,
            xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
          ]        
          \addplot [very thick, penColor, samples=250,smooth,domain=(20:70)] {x^(1/3))};
          \addplot [very thick, penColor2, domain=(20:70)] {x/27+2};
          \addplot [very thick, penColor4, domain=(20:70)] {x/48+8/3};
          \addplot [textColor,dashed] plot coordinates {(50,0) (50,3.68403149864)};         
          \node at (axis cs:42,3.1) [penColor] {$f$};
          \node at (axis cs:55,4.2) [penColor2] {$m$};
          \node at (axis cs:35,3.5) [penColor4] {$\l$};
          \addplot[color=penColor3,fill=penColor3,only marks,mark=*] coordinates{(50,3.68403149864)};  %% closed hole            
        \end{axis}
\end{tikzpicture}
%\caption{A linear approximation of $f(x) = \sqrt[3]{x}$ at $x=64$.}
%\label{figure:la sqrt3x}
%\end{marginfigure}
\end{image}
\end{question}



%%% Finding the range of $x=a$ values such that the linear
%approximation will be so close for a particular value.
\begin{example}
Now we will determine what range of integers $a$ values we can use to ensure
that the linear approximation $g(x)$ of $f(x)=\sqrt[3]{x}$ 
at $x=a$ will be within a tolerance of $0.01$ of $\sqrt[3]{50}$
when approximating $\sqrt[3]{50}$.

Recall that $g(x) = f'(a)(x-a) + f(a)$.

We want to know what $a$ values for $\l(x)$ have the property that $|g(50) - \sqrt[3]{50}|<0.01$.

Since $\sqrt[3]{50} \approx 3.684031$, we need to find for what $a$ values $g(50) = 3.694031$, and $g(50) = 3.674031$.

\[]
\graph[xmin=48, xmax=52, ymin=3.55, ymax=3.85]{f\left(x\right)\ =\ x^{\frac{1}{3}}, g\left(x\right)\ =\ f'\left(a\right)\left(x-a\right)\ +\ f\left(a\right)\ , a=43, y\ =\ 3.694031,y\ =\ 3.674031}
\]






\end{example}









%% Approximation for sine function
\begin{example}%\label{exam:linear approximation of sine}
Use a linear approximation of $f(x) =\sin(x)$ at $x=0$ to approximate
$\sin(0.3)$.
\begin{explanation}
To start, write
\[
\ddx f(x) = \answer[given]{\cos(x)},
\]
so our linear approximation is
\begin{align*}
\l(x) &= \answer[given]{\cos(0)}\cdot(x-0) + 0\\
&= x.
\end{align*}
\begin{image}
%\begin{marginfigure}
\begin{tikzpicture}
	\begin{axis}[
            xmin=-1.6,xmax=1.6,ymin=-1.5,ymax=1.5,
            axis lines=center,
            xtick={-1.57, 0, 1.57},
            xticklabels={$-\pi/2$, $0$, $\pi/2$},
            ytick={-1,1},
            %ticks=none,
            %width=3in,
            %height=2in,
            unit vector ratio*=1 1 1,
            xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
          ]        
          \addplot [very thick, penColor, samples=100,smooth, domain=(-1.6:1.6)] {sin(deg(x))};
          \addplot [very thick, penColor2, samples=100,smooth] {x};
          \node at (axis cs:1,.6) [penColor] {$f$};
          \node at (axis cs:-1,-1.2) [penColor2] {$\l$};
          \addplot[color=penColor3,fill=penColor3,only marks,mark=*] coordinates{(0,0)};  %% closed hole          
        \end{axis}
\end{tikzpicture}
%\caption{A linear approximation of $f(x) = \sin(x)$ at $x=0$.}
%\label{figure:la sin}
%\end{marginfigure}
\end{image}
Hence a linear approximation for $\sin(x)$ at $x=0$ is $\l(x) = x$,
and so $\l(0.3) = 0.3$.  Comparing this to $\sin(.3) \approx 0.295$,
we see that the approximation is quite good. For this reason, it is common
to approximate $\sin(x)$ with its linear approximation $\l(x) = x$
when $x$ is near zero.  
%see Figure~\ref{figure:la sin}.
\end{explanation}
\end{example}




\end{document}